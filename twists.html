<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Random Image Picker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #000;
      color: #fff;
    }

    .app {
      height: 100vh;
      display: flex;
      flex-direction: column;
      background: #000;
    }

    /* Top bar */
    .top-bar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0.5rem 0.75rem;
      background: #111;
      border-bottom: 1px solid #222;
      flex-shrink: 0;
    }

    .top-bar-title {
      font-size: 1rem;
      font-weight: 600;
      text-align: center;
      flex: 1;
    }

    .top-bar button {
      background: #222;
      color: #fff;
      border: none;
      padding: 0.45rem 0.75rem;
      border-radius: 999px;
      font-size: 0.9rem;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.25rem;
      cursor: pointer;
      min-width: 2.25rem;
      transition: background 0.15s ease, transform 0.1s ease;
      touch-action: manipulation;
    }

    .top-bar button:active {
      transform: scale(0.96);
      background: #333;
    }

    .menu-button {
      margin-right: 0.5rem;
    }

    .menu-icon {
      font-size: 1.1rem;
      line-height: 1;
    }

    .reroll-button {
      margin-left: 0.5rem;
      white-space: nowrap;
    }

    @media (min-width: 640px) {
      .top-bar-title {
        font-size: 1.1rem;
      }
    }

    /* Main content */
    main {
      flex: 1;
      min-height: 0;
      position: relative;
      background: #000;
    }

    /* Choice view (two random images) */
    .choice-view {
      height: calc(100vh - 3rem);
      padding: 0.5rem;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .choice-instructions {
      text-align: center;
      font-size: 0.9rem;
      opacity: 0.9;
      flex-shrink: 0;
    }

    .choice-images {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    @media (min-width: 640px) {
      .choice-images {
        flex-direction: row;
      }
    }

    .choice-card {
      flex: 1;
      border: none;
      background: #111;
      border-radius: 0.75rem;
      overflow: hidden;
      padding: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      position: relative;
    }

    .choice-card::after {
      content: "Tap to choose";
      position: absolute;
      bottom: 0.4rem;
      right: 0.6rem;
      font-size: 0.7rem;
      background: rgba(0, 0, 0, 0.65);
      padding: 0.2rem 0.45rem;
      border-radius: 999px;
    }

    .choice-card img {
      max-width: 100%;
      max-height: 100%;
      object-fit: contain;
      display: block;
    }

    .choice-card:active {
      filter: brightness(0.9);
      transform: scale(0.98);
      transition: transform 0.05s ease;
    }

    /* Single selected image view */
    .single-view {
      height: calc(100vh - 3rem);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0.25rem;
      background: #000;
    }

    .single-view img {
      max-width: 100%;
      max-height: 100%;
      object-fit: contain;
      display: block;
      margin: 0 auto;
    }

    /* Hide utility */
    .hidden {
      display: none !important;
    }

    /* Side menu (gallery) */
    .side-menu {
      position: fixed;
      top: 0;
      right: 0;
      height: 100vh;
      width: 80vw;
      max-width: 420px;
      background: #111;
      color: #fff;
      box-shadow: -4px 0 12px rgba(0, 0, 0, 0.6);
      transform: translateX(100%);
      transition: transform 0.22s ease-out;
      z-index: 30;
      display: flex;
      flex-direction: column;
    }

    .side-menu.open {
      transform: translateX(0);
    }

    .side-menu-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0.75rem 0.75rem 0.5rem;
      border-bottom: 1px solid #222;
      flex-shrink: 0;
    }

    .side-menu-title {
      font-size: 0.95rem;
      font-weight: 600;
    }

    .close-menu-button {
      background: #222;
      border-radius: 999px;
      border: none;
      color: #fff;
      padding: 0.35rem 0.6rem;
      cursor: pointer;
      font-size: 0.85rem;
    }

    .gallery {
      padding: 0.5rem;
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(90px, 1fr));
      gap: 0.5rem;
    }

    .gallery-item {
      border-radius: 0.5rem;
      overflow: hidden;
      background: #000;
      border: 1px solid #222;
      padding: 0;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .gallery-item img {
      display: block;
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .gallery-item:active {
      transform: scale(0.96);
      filter: brightness(0.9);
      transition: transform 0.06s ease;
    }

    /* Backdrop */
    .backdrop {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.5);
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.22s ease-out;
      z-index: 20;
    }

    .backdrop.visible {
      opacity: 1;
      pointer-events: auto;
    }

    /* Scrollbar tweaks */
    .gallery::-webkit-scrollbar {
      width: 6px;
    }
    .gallery::-webkit-scrollbar-thumb {
      background: #333;
      border-radius: 999px;
    }
  </style>
</head>
<body>
  <div class="app">
    <header class="top-bar">
      <button id="menuToggle" class="menu-button" aria-label="Toggle menu">
        <span class="menu-icon">☰</span>
      </button>

      <div class="top-bar-title">
        Random Image Picker
      </div>

      <button id="rerollButton" class="reroll-button" aria-label="Reroll images">
        ⟳ Reroll
      </button>
    </header>

    <main>
      <!-- Two-random-image choice view -->
      <section id="choiceView" class="choice-view">
        <div class="choice-instructions">
          Tap one of the images below to make it fill the screen.
        </div>
        <div class="choice-images">
          <button class="choice-card" data-choice="0">
            <img alt="Random choice 1" />
          </button>
          <button class="choice-card" data-choice="1">
            <img alt="Random choice 2" />
          </button>
        </div>
      </section>

      <!-- Single selected image view -->
      <section id="singleView" class="single-view hidden">
        <img id="selectedImage" alt="Selected" />
      </section>
    </main>

    <!-- Slide-out menu with full gallery -->
    <aside id="sideMenu" class="side-menu" aria-hidden="true">
      <div class="side-menu-header">
        <div class="side-menu-title">All Images</div>
        <button id="closeMenuButton" class="close-menu-button" aria-label="Close menu">
          ✕
        </button>
      </div>
      <div id="gallery" class="gallery">
        <!-- Thumbnails get injected here -->
      </div>
    </aside>

    <div id="backdrop" class="backdrop"></div>
  </div>

  <script>
    const imageUrls = [
      "https://mtg.design/i/gxvs21.jpg?20251203102159",
      "https://mtg.design/i/wzyu85.jpg?20251203101837",
      "https://mtg.design/i/nvip43.jpg?20251203101733",
      "https://mtg.design/i/fjns02.jpg?20251203101556",
      "https://mtg.design/i/ttcv00.jpg?20251203101105",
      "https://mtg.design/i/zxgd89.jpg?20251203100715",
      "https://mtg.design/i/vltk24.jpg?20251203100435",
      "https://mtg.design/i/vbvt55.jpg?20251203100353",
      "https://mtg.design/i/buyl87.jpg?20251203095712",
      "https://mtg.design/i/faeq74.jpg?20251203095500",
      "https://mtg.design/i/vrac37.jpg?20251203095440",
      "https://mtg.design/i/eruf86.jpg?20251203095330",
      "https://mtg.design/i/hais01.jpg?20251203095239",
      "https://mtg.design/i/mfzu53.jpg?20251203095103",
      "https://mtg.design/i/fqwz65.jpg?20251203095024",
      "https://mtg.design/i/akao89.jpg?20251203094933",
      "https://mtg.design/i/bsyh55.jpg?20251203094820",
      "https://mtg.design/i/gdgp54.jpg?20251203094553",
      "https://mtg.design/i/zdhm57.jpg?20251203094435",
      "https://mtg.design/i/irgx46.jpg?20251203094318",
      "https://mtg.design/i/mtal67.jpg?20251203094214",
      "https://mtg.design/i/crno02.jpg?20251203094021",
      "https://mtg.design/i/mwxz74.jpg?20251203093901",
      "https://mtg.design/i/zqrw83.jpg?20251203093307",
      "https://mtg.design/i/eseh20.jpg?20251203093139",
      "https://mtg.design/i/nomi61.jpg?20251203093005",
      "https://mtg.design/i/cqgu28.jpg?20251203092840",
      "https://mtg.design/i/gwvx31.jpg?20251203092747",
      "https://mtg.design/i/ohox54.jpg?20251203092635",
      "https://mtg.design/i/oyhg72.jpg?20251203092258",
      "https://mtg.design/i/zest10.jpg?20251203092017",
      "https://mtg.design/i/pkzt16.jpg?20251203091943",
      "https://mtg.design/i/ljie46.jpg?20251203091911",
      "https://mtg.design/i/ydrl19.jpg?20251203091714",
      "https://mtg.design/i/frwg97.jpg?20251203091636",
      "https://mtg.design/i/kucq58.jpg?20251203091342",
      "https://mtg.design/i/hmsi34.jpg?20251203091257",
      "https://mtg.design/i/yxbi01.jpg?20251203091211",
      "https://mtg.design/i/ybcz45.jpg?20251203090907",
      "https://mtg.design/i/rxnc47.jpg?20251203090833",
      "https://mtg.design/i/urjr38.jpg?20251203090710",
      "https://mtg.design/i/kjyk78.jpg?20251203090635",
      "https://mtg.design/i/zqcd09.jpg?20251203090511",
      "https://mtg.design/i/abob82.jpg?20251203090124",
      "https://mtg.design/i/ifaa98.jpg?20251203074448",
      "https://mtg.design/i/lspd73.jpg?20251127124354",
      "https://mtg.design/i/tiso70.jpg?20251127124215",
      "https://mtg.design/i/kjjb19.jpg?20251127124033",
      "https://mtg.design/i/fijh38.jpg?20251127123850",
      "https://mtg.design/i/xeja26.jpg?20251127123712",
      "https://mtg.design/i/dkzt42.jpg?20251127123533",
      "https://mtg.design/i/dcut77.jpg?20251127123331",
      "https://mtg.design/i/yvtj81.jpg?20251127123156",
      "https://mtg.design/i/nlew15.jpg?20251127123006",
      "https://mtg.design/i/obpd20.jpg?20251127122648",
      "https://mtg.design/i/wjcr66.jpg?20251127122506",
      "https://mtg.design/i/btdf10.jpg?20251127122328",
      "https://mtg.design/i/vahq72.jpg?20251127122153",
      "https://mtg.design/i/yxvp40.jpg?20251127121931",
      "https://mtg.design/i/wamw82.jpg?20251127121752",
      "https://mtg.design/i/zivs72.jpg?20251127121606",
      "https://mtg.design/i/zwbz72.jpg?20251127121433",
      "https://mtg.design/i/fvwh70.jpg?20251127121257",
      "https://mtg.design/i/vwkd00.jpg?20251127121115",
      "https://mtg.design/i/nceb98.jpg?20251127120923",
      "https://mtg.design/i/jpzc73.jpg?20251127120736",
      "https://mtg.design/i/njfa30.jpg?20251127120305",
      "https://mtg.design/i/oadb16.jpg?20250823014911",
      "https://mtg.design/i/gtdk21.jpg?20250823014729",
      "https://mtg.design/i/puje55.jpg?20250823014456",
      "https://mtg.design/i/rrpq34.jpg?20250823013729",
      "https://mtg.design/i/plnt36.jpg?20250823013524",
      "https://mtg.design/i/llgi24.jpg?20250823013324",
      "https://mtg.design/i/gpib57.jpg?20250823012928",
      "https://mtg.design/i/ectu37.jpg?20250823012629",
      "https://mtg.design/i/yxct86.jpg?20250823012448",
      "https://mtg.design/i/vzls41.jpg?20250823011531",
      "https://mtg.design/i/qoeq82.jpg?20250823011253",
      "https://mtg.design/i/mwjh34.jpg?20250823011046",
      "https://mtg.design/i/imny29.jpg?20250823010835",
      "https://mtg.design/i/qzcq59.jpg?20250823010657",
      "https://mtg.design/i/hgur83.jpg?20250823010426",
      "https://mtg.design/i/zxiv29.jpg?20250823005944",
      "https://mtg.design/i/ksgv24.jpg?20250823005714",
      "https://mtg.design/i/opzh20.jpg?20250806032414",
      "https://mtg.design/i/shqx82.jpg?20250806032011",
      "https://mtg.design/i/swsn62.jpg?20250806031743",
      "https://mtg.design/i/nazb77.jpg?20250806031539",
      "https://mtg.design/i/evhx33.jpg?20250806031310",
      "https://mtg.design/i/myha09.jpg?20250806031022",
      "https://mtg.design/i/ydua37.jpg?20250702171938",
      "https://mtg.design/i/xvyb01.jpg?20250702171719",
      "https://mtg.design/i/rzwl79.jpg?20250702171410",
      "https://mtg.design/i/qwvd20.jpg?20250702171128",
      "https://mtg.design/i/psfp05.jpg?20250702170935",
      "https://mtg.design/i/mgbq35.jpg?20250702170740",
      "https://mtg.design/i/bxsx05.jpg?20250702170526",
      "https://mtg.design/i/yoes65.jpg?20250702170227",
      "https://mtg.design/i/trrs43.jpg?20250702170001",
      "https://mtg.design/i/shoq35.jpg?20250702165726",
      "https://mtg.design/i/rrac70.jpg?20250702165408",
      "https://mtg.design/i/cxnp77.jpg?20250420225947",
      "https://mtg.design/i/gvny28.jpg?20250420225746",
      "https://mtg.design/i/rzsn57.jpg?20250420225527",
      "https://mtg.design/i/rrhr08.jpg?20250420063225",
      "https://mtg.design/i/pwwr81.jpg?20250420063032",
      "https://mtg.design/i/aqce45.jpg?20250420062847",
      "https://mtg.design/i/unwh57.jpg?20250420062646",
      "https://mtg.design/i/dgff53.jpg?20250420062504",
      "https://mtg.design/i/ixaq52.jpg?20250420062309",
      "https://mtg.design/i/znte92.jpg?20250420062031",
      "https://mtg.design/i/fiic94.jpg?20250420061819",
      "https://mtg.design/i/fhlm92.jpg?20250420061623",
      "https://mtg.design/i/oywu87.jpg?20250420061421",
      "https://mtg.design/i/ksvg63.jpg?20250420061035",
      "https://mtg.design/i/lvcp66.jpg?20250420060724",
      "https://mtg.design/i/qamd02.jpg?20250420060458",
      "https://mtg.design/i/hqvq31.jpg?20250420060311",
      "https://mtg.design/i/whdu79.jpg?20250412012149",
      "https://mtg.design/i/cdlj00.jpg?20250412011732",
      "https://mtg.design/i/fhgs15.jpg?20250412011541",
      "https://mtg.design/i/rrix80.jpg?20250410050351",
      "https://mtg.design/i/oeud35.jpg?20250410050058",
      "https://mtg.design/i/ibes22.jpg?20250410045649",
      "https://mtg.design/i/hgkr48.jpg?20250410045355",
      "https://mtg.design/i/lmdy17.jpg?20250410045126",
      "https://mtg.design/i/lpnn98.jpg?20250410044911",
      "https://mtg.design/i/tuzb32.jpg?20250410044627",
      "https://mtg.design/i/jjsr04.jpg?20250410005031",
      "https://mtg.design/i/mpqk07.jpg?20250410004730",
      "https://mtg.design/i/xkca55.jpg?20250327014248",
      "https://mtg.design/i/qnlt09.jpg?20250327014020",
      "https://mtg.design/i/ljne15.jpg?20250327013747",
      "https://mtg.design/i/brbn70.jpg?20250327013325",
      "https://mtg.design/i/deiw32.jpg?20250327013133",
      "https://mtg.design/i/jatn27.jpg?20250327012651",
      "https://mtg.design/i/vxki14.jpg?20250327012411",
      "https://mtg.design/i/gaih46.jpg?20250327011542",
      "https://mtg.design/i/cbpe74.jpg?20250327010838",
      "https://mtg.design/i/tqju01.jpg?20250327010640",
      "https://mtg.design/i/xkub73.jpg?20250327010453",
      "https://mtg.design/i/szzo64.jpg?20250327005844",
      "https://mtg.design/i/aiyi74.jpg?20250327005630",
      "https://mtg.design/i/xyrs22.jpg?20250327005349",
      "https://mtg.design/i/aowc28.jpg?20250327005056",
      "https://mtg.design/i/xqac59.jpg?20250327004656",
      "https://mtg.design/i/xlzf08.jpg?20250326220053",
      "https://mtg.design/i/ajuj88.jpg?20250326215832",
      "https://mtg.design/i/kmrr69.jpg?20250326215552",
      "https://mtg.design/i/ogfa19.jpg?20250326215336",
      "https://mtg.design/i/bnyq63.jpg?20250326214351",
      "https://mtg.design/i/gqwf96.jpg?20250326213904",
      "https://mtg.design/i/hhiz96.jpg?20250326174550",
      "https://mtg.design/i/glvt44.jpg?20250326174331",
      "https://mtg.design/i/xurq55.jpg?20250326174038",
      "https://mtg.design/i/ydyq16.jpg?20250326173649",
      "https://mtg.design/i/xpbq86.jpg?20250326173414",
      "https://mtg.design/i/newq88.jpg?20250326173148",
      "https://mtg.design/i/fbrn73.jpg?20250326172748",
      "https://mtg.design/i/gcer82.jpg?20250326172420",
      "https://mtg.design/i/pfrr92.jpg?20250326172136",
      "https://mtg.design/i/ygch01.jpg?20250326171915",
      "https://mtg.design/i/wuwp96.jpg?20250326171656",
      "https://mtg.design/i/otyt24.jpg?20250326171422",
      "https://mtg.design/i/yznl71.jpg?20250326171219",
      "https://mtg.design/i/pypt91.jpg?20250326170920",
      "https://mtg.design/i/cfjo39.jpg?20250326170634",
      "https://mtg.design/i/crbz80.jpg?20250326170331",
      "https://mtg.design/i/cuur65.jpg?20250326170059",
      "https://mtg.design/i/jmsf30.jpg?20250326165720",
      "https://mtg.design/i/rapj03.jpg?20250326165408",
      "https://mtg.design/i/ehkj16.jpg?20250326165006",
      "https://mtg.design/i/ykbc62.jpg?20250326164730",
      "https://mtg.design/i/jhpb33.jpg?20250326164427",
      "https://mtg.design/i/fbsj91.jpg?20250326164010",
      "https://mtg.design/i/pgvo65.jpg?20250326163559",
      "https://mtg.design/i/okqh15.jpg?20250326163317",
      "https://mtg.design/i/glqw22.jpg?20250326162918",
      "https://mtg.design/i/hsqh38.jpg?20250326162657",
      "https://mtg.design/i/asnf40.jpg?20240408014546",
      "https://mtg.design/i/tpgz49.jpg?20240408014019",
      "https://mtg.design/i/wjdk42.jpg?20240408013259",
      "https://mtg.design/i/bhxo97.jpg?20240408012830",
      "https://mtg.design/i/zkpt87.jpg?20240408011820",
      "https://mtg.design/i/waom80.jpg?20240408011401",
      "https://mtg.design/i/kgbp02.jpg?20240408010834",
      "https://mtg.design/i/kcya27.jpg?20240408010233",
      "https://mtg.design/i/izya06.jpg?20240408005940",
      "https://mtg.design/i/tlzy44.jpg?20240408004826",
      "https://mtg.design/i/cryi95.jpg?20240326030347",
      "https://mtg.design/i/rrup54.jpg?20240326025832",
      "https://mtg.design/i/fapc80.jpg?20240326025342",
      "https://mtg.design/i/tras02.jpg?20240326024058",
      "https://mtg.design/i/ctwk31.jpg?20240326020518",
      "https://mtg.design/i/lsqz90.jpg?20240326015346",
      "https://mtg.design/i/vkxo92.jpg?20240326014714",
      "https://mtg.design/i/aaiu96.jpg?20240326012735",
      "https://mtg.design/i/ihym62.jpg?20240326012057",
      "https://mtg.design/i/vjkw06.jpg?20231107220732",
      "https://mtg.design/i/hjpv69.jpg?20231107220233",
      "https://mtg.design/i/sxvz83.jpg?20231107220037",
      "https://mtg.design/i/unuw32.jpg?20231107215511",
      "https://mtg.design/i/muey60.jpg?20231107215222",
      "https://mtg.design/i/vvfc55.jpg?20231107215052",
      "https://mtg.design/i/bjnh14.jpg?20231107214911",
      "https://mtg.design/i/msge45.jpg?20231107214426",
      "https://mtg.design/i/dqxy57.jpg?20231107214010",
      "https://mtg.design/i/jtqs69.jpg?20231107212215",
      "https://mtg.design/i/ryob02.jpg?20231107210840",
      "https://mtg.design/i/lnys40.jpg?20231107210251",
      "https://mtg.design/i/rzmm97.jpg?20231107205642",
      "https://mtg.design/i/hpbh92.jpg?20230911041448",
      "https://mtg.design/i/fxgr85.jpg?20230905231517",
      "https://mtg.design/i/mlxg93.jpg?20230905230915",
      "https://mtg.design/i/wuzd75.jpg?20230905230605",
      "https://mtg.design/i/jeko45.jpg?20230905230403",
      "https://mtg.design/i/vruy28.jpg?20230905230217",
      "https://mtg.design/i/rhxq49.jpg?20230905225842",
      "https://mtg.design/i/imgy52.jpg?20230905225654",
      "https://mtg.design/i/zcsj62.jpg?20230905215920",
      "https://mtg.design/i/mnoc57.jpg?20230905215641",
      "https://mtg.design/i/lbtl03.jpg?20230905214314",
      "https://mtg.design/i/dptf30.jpg?20230905214047",
      "https://mtg.design/i/qyck59.jpg?20230905213253",
      "https://mtg.design/i/dezt17.jpg?20230905212852",
      "https://mtg.design/i/tiex00.jpg?20230711072637",
      "https://mtg.design/i/jzyb56.jpg?20230623232826",
      "https://mtg.design/i/wyyk16.jpg?20230623232612",
      "https://mtg.design/i/afyf70.jpg?20230623232404",
      "https://mtg.design/i/xlsc11.jpg?20230623232147",
      "https://mtg.design/i/esmu52.jpg?20230623231451",
      "https://mtg.design/i/gpvk75.jpg?20230623230733",
      "https://mtg.design/i/nnsm18.jpg?20230623230256",
      "https://mtg.design/i/exyg50.jpg?20230623230131",
      "https://mtg.design/i/hhjv69.jpg?20230623225955",
      "https://mtg.design/i/uazb13.jpg?20230623225828",
      "https://mtg.design/i/shar58.jpg?20230623225537",
      "https://mtg.design/i/xxgh88.jpg?20230623225238",
      "https://mtg.design/i/nsif85.jpg?20230511004124",
      "https://mtg.design/i/gjlf26.jpg?20230511003600",
      "https://mtg.design/i/mgdo65.jpg?20230511003328",
      "https://mtg.design/i/dcud57.jpg?20230511002900",
      "https://mtg.design/i/puei19.jpg?20230501220204",
      "https://mtg.design/i/yejx63.jpg?20230501214848",
      "https://mtg.design/i/ijdw33.jpg?20230418234752",
      "https://mtg.design/i/gogb92.jpg?20230418234627",
      "https://mtg.design/i/lujx50.jpg?20230418234219",
      "https://mtg.design/i/gjut03.jpg?20230418225720",
      "https://mtg.design/i/rcwf13.jpg?20230418224136",
      "https://mtg.design/i/fpnr64.jpg?20230401174256",
      "https://mtg.design/i/jdgx95.jpg?20230312210209",
      "https://mtg.design/i/vogk24.jpg?20230312203646",
      "https://mtg.design/i/kuko12.jpg?20230312203218",
      "https://mtg.design/i/veyz41.jpg?20230312202520",
      "https://mtg.design/i/xdly16.jpg?20230312200404",
      "https://mtg.design/i/axvh33.jpg?20230312200157",
      "https://mtg.design/i/irfo08.jpg?20230118042003",
      "https://mtg.design/i/egnc60.jpg?20230118041700",
      "https://mtg.design/i/msqj91.jpg?20230118041502",
      "https://mtg.design/i/ynex91.jpg?20230118041351",
      "https://mtg.design/i/oogf03.jpg?20230118035716",
      "https://mtg.design/i/jbqf71.jpg?20230118035115",
      "https://mtg.design/i/bzaw46.jpg?20230118034913",
      "https://mtg.design/i/dbwj26.jpg?20230115032530",
      "https://mtg.design/i/rnyh14.jpg?20230115031709",
      "https://mtg.design/i/drxr60.jpg?20230115031348",
      "https://mtg.design/i/hhvz13.jpg?20230115031052",
      "https://mtg.design/i/mqkm87.jpg?20230115030136",
      "https://mtg.design/i/cmuo49.jpg?20230115025516",
      "https://mtg.design/i/dkrk87.jpg?20230115025237",
      "https://mtg.design/i/algk47.jpg?20230115024831",
      "https://mtg.design/i/otgy42.jpg?20230115023154",
      "https://mtg.design/i/zzlc36.jpg?20230115022954",
      "https://mtg.design/i/bceh40.jpg?20230115022146",
      "https://mtg.design/i/pzel10.jpg?20230115021329",
      "https://mtg.design/i/phpr18.jpg?20230112183228",
      "https://mtg.design/i/ldeh65.jpg?20230112182937",
      "https://mtg.design/i/zpia04.jpg?20221214223747",
      "https://mtg.design/i/zevv72.jpg?20221123031027",
      "https://mtg.design/i/llki01.jpg?20221123030406",
      "https://mtg.design/i/bqal61.jpg?20221123024129",
      "https://mtg.design/i/vgod53.jpg?20221122191222",
      "https://mtg.design/i/vpts46.jpg?20221122190250",
      "https://mtg.design/i/enjn26.jpg?20221122190008",
      "https://mtg.design/i/agdv09.jpg?20221109203608",
      "https://mtg.design/i/coph79.jpg?20221109202923",
      "https://mtg.design/i/kgiw07.jpg?20221109202700",
      "https://mtg.design/i/cjvy18.jpg?20221109201455",
      "https://mtg.design/i/ixqh65.jpg?20221109193314",
      "https://mtg.design/i/ohtr98.jpg?20221109193104",
      "https://mtg.design/i/mksl76.jpg?20221109192628",
      "https://mtg.design/i/gytv02.jpg?20221109192345",
      "https://mtg.design/i/chtq13.jpg?20221109190941",
      "https://mtg.design/i/gyhu93.jpg?20221109190843",
      "https://mtg.design/i/nsrz36.jpg?20221109190457",
      "https://mtg.design/i/dkbv80.jpg?20221028061000",
      "https://mtg.design/i/tjoy04.jpg?20221028060215",
      "https://mtg.design/i/zkrt08.jpg?20221028054934",
      "https://mtg.design/i/zwei34.jpg?20221028054012",
      "https://mtg.design/i/azkf44.jpg?20221016190748",
      "https://mtg.design/i/kfkw17.jpg?20221016185312",
      "https://mtg.design/i/evwo59.jpg?20221006045131",
      "https://mtg.design/i/dbsk47.jpg?20221006044739",
      "https://mtg.design/i/chmd85.jpg?20221006043512",
      "https://mtg.design/i/ndfh61.jpg?20220923222315",
      "https://mtg.design/i/mvpq45.jpg?20220921032035",
      "https://mtg.design/i/cufw06.jpg?20220921030731",
      "https://mtg.design/i/rlll30.jpg?20220921030325",
      "https://mtg.design/i/hebw37.jpg?20220921024728",
      "https://mtg.design/i/iflb02.jpg?20220921023958",
      "https://mtg.design/i/cagj73.jpg?20220921022821",
      "https://mtg.design/i/beha88.jpg?20220921021232",
      "https://mtg.design/i/obxq52.jpg?20220921020107",
      "https://mtg.design/i/jvtf19.jpg?20220921014652",
      "https://mtg.design/i/etgt45.jpg?20220921012403"
    ];

    let currentRandomIndices = [null, null];

    const choiceView = document.getElementById("choiceView");
    const singleView = document.getElementById("singleView");
    const selectedImageEl = document.getElementById("selectedImage");
    const choiceButtons = Array.from(
      document.querySelectorAll(".choice-card")
    );
    const menuToggleButton = document.getElementById("menuToggle");
    const rerollButton = document.getElementById("rerollButton");
    const sideMenu = document.getElementById("sideMenu");
    const closeMenuButton = document.getElementById("closeMenuButton");
    const backdrop = document.getElementById("backdrop");
    const galleryEl = document.getElementById("gallery");

    function getTwoRandomIndices() {
      if (imageUrls.length === 0) return [null, null];
      if (imageUrls.length === 1) return [0, 0];

      let first = Math.floor(Math.random() * imageUrls.length);
      let second;
      do {
        second = Math.floor(Math.random() * imageUrls.length);
      } while (second === first);
      return [first, second];
    }

    function showRandomChoices() {
      currentRandomIndices = getTwoRandomIndices();
      const [i0, i1] = currentRandomIndices;

      choiceButtons[0]
        .querySelector("img")
        .setAttribute("src", imageUrls[i0]);
      choiceButtons[1]
        .querySelector("img")
        .setAttribute("src", imageUrls[i1]);

      // Go back to choice view
      singleView.classList.add("hidden");
      choiceView.classList.remove("hidden");
    }

    function selectImageByIndex(index) {
      if (index == null || !imageUrls[index]) return;
      const url = imageUrls[index];
      selectImage(url);
    }

    function selectImage(url) {
      selectedImageEl.setAttribute("src", url);
      choiceView.classList.add("hidden");
      singleView.classList.remove("hidden");
      // Keep header visible; everything else is essentially this one image.
    }

    function openMenu() {
      sideMenu.classList.add("open");
      sideMenu.setAttribute("aria-hidden", "false");
      backdrop.classList.add("visible");
    }

    function closeMenu() {
      sideMenu.classList.remove("open");
      sideMenu.setAttribute("aria-hidden", "true");
      backdrop.classList.remove("visible");
    }

    function toggleMenu() {
      const isOpen = sideMenu.classList.contains("open");
      if (isOpen) {
        closeMenu();
      } else {
        openMenu();
      }
    }

    function buildGallery() {
      galleryEl.innerHTML = "";
      imageUrls.forEach((url, index) => {
        const btn = document.createElement("button");
        btn.className = "gallery-item";
        btn.type = "button";
        btn.setAttribute("aria-label", "Select image " + (index + 1));

        const img = document.createElement("img");
        img.src = url;
        img.alt = "Image " + (index + 1);

        btn.appendChild(img);

        btn.addEventListener("click", () => {
          selectImage(url);
          closeMenu();
        });

        galleryEl.appendChild(btn);
      });
    }

    function initEvents() {
      // Choice buttons (two random options)
      choiceButtons.forEach((btn, which) => {
        btn.addEventListener("click", () => {
          const index = currentRandomIndices[which];
          selectImageByIndex(index);
        });
      });

      // Reroll button
      rerollButton.addEventListener("click", () => {
        showRandomChoices();
        // If user had menu open, keep focus on main content again
        closeMenu();
      });

      // Menu controls
      menuToggleButton.addEventListener("click", toggleMenu);
      closeMenuButton.addEventListener("click", closeMenu);
      backdrop.addEventListener("click", closeMenu);

      // Small ESC key usability
      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape") {
          closeMenu();
        }
      });
    }

    function init() {
      buildGallery();
      initEvents();
      showRandomChoices();
    }

    window.addEventListener("DOMContentLoaded", init);
  </script>
</body>
</html>